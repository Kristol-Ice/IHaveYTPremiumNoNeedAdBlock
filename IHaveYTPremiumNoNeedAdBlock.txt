! Title: IHaveYTPremiumNoNeedAdBlock-whitelist
! Description: Whitelist of youtube.com adblock rules for uBO and leave other rules work.
! Version: 20231031231341
! Expires: 1 days (update frequency)
! Download: https://raw.githubusercontent.com/Kristol-Ice/IHaveYTPremiumNoNeedAdBlock-whitelist/main/IHaveYTPremiumNoNeedAdBlock.txt
! Homeapge: https://github.com/Kristol-Ice/IHaveYTPremiumNoNeedAdBlock-whitelist

!below rules might need to insert to "My filters" yourself
www.youtube.com#@#+js(replace-node-text, script, /(\(function serverContract\(\))/, /*start*/(function(){const handler={apply:(target\,thisArg\,args)=>{if(Array.isArray(args)){const arr=args[0];if(arr.adPlacements||arr.adSlots||arr.adBreakHeartbeatParams||arr.playerResponse){args=[{}]}}return Reflect.apply(target\,thisArg\,args)}};Object.getOwnPropertyNames=new Proxy(Object.getOwnPropertyNames\,handler);const cleanup=function(){const scripts=document.querySelectorAll("script");for(let i=scripts.length-1;i>=0;i--){if(scripts[i].textContent.startsWith("/*start*/")){scripts[i].textContent=scripts[i].textContent.replace(/\/\*start\*\/(.*)\/\*end\*\//g\,"");break}}};if(document.readyState!=="loading"){cleanup()}else{document.addEventListener("DOMContentLoaded"\,cleanup)}}());/*end*/ $1)
www.youtube.com#@#+js(trusted-replace-xhr-response, /\"adPlacements.*?\"\}\}\}\]\,/, , /player\?key=|watch\?v=|youtubei\/v1\/player/)
www.youtube.com#@#+js(trusted-replace-fetch-response, /(trackingParam":"kx_fmPxh.*?)"adPlacements.*?"\}\}\}\]\,/, $1, player?key=)



youtube.com#@#+js(set-constant, google_ad_status, 1)
youtube.com#@#+js(set-constant, ytInitialPlayerResponse.adPlacements, undefined)
youtube.com#@#+js(set-constant, yt.config_.EXPERIMENT_FLAGS.ab_det_gen_re, false)
youtubekids.com,youtube-nocookie.com,youtube.com#@#+js(set-constant, ytInitialPlayerResponse.adPlacements, undefined)
youtubekids.com,youtube-nocookie.com,youtube.com#@#+js(set-constant, ytInitialPlayerResponse.adSlots, undefined)
youtubekids.com,youtube-nocookie.com,youtube.com#@#+js(set-constant, ytInitialPlayerResponse.playerAds, undefined)
youtubekids.com,youtube-nocookie.com,youtube.com#@#+js(set-constant, playerResponse.adPlacements, undefined)
www.youtube.com#@#+js(trusted-replace-fetch-response, /"adPlacements.*?\/(aclk\?sa=L&ai=C(?!3OQpfbUyZYWKL_)[-_0-9A-Za-z]+__________[-_0-9A-Za-z]+A[A-Za-z]AA&|get_midroll_info\S+&token=ALHj).*?"\}\}\}\]\,/, , player?key=)

youtube.com#@##player [class*="suggested-action-badge-icon"]:upward(.ytp-suggested-action)
youtube.com#@#.ytp-ad-progress-list
youtube.com#@#.ytp-cards-teaser
youtube.com#@#.ytp-paid-content-overlay
youtube.com#@##ticker.ytd-masthead
youtube.com#@##merch-shelf
youtube.com#@##offer-module
youtube.com#@##player-ads
youtube.com#@#[target-id="engagement-panel-ads"]